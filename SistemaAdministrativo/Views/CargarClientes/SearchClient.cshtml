@{
    ViewBag.Title = "Search";
}

@* Genero tabla de clientes por Javascript con el objeto Json del controller SearchClient mediante Ajax para 
   que no se refresque la página.   *@
<script src="@Url.Content("~/Scripts/jquery.highlight-3.js")" type="text/javascript"></script>
<script type="text/javascript">
        function buscarClientes() {
            $.ajax({
                url: '@Url.Action("SearchClient", "CargarClientes")',
                data: { text: $("#system-search").val() },
                type: "post",
                cache: false,
                success: function (retorno) {
                    $('.added').remove();
                    var clientesObjeto = JSON.parse(retorno);
                    var tabla = document.getElementById("MiTabla");

                    for (i=0; i < clientesObjeto.length; i++){
                        var fila = document.createElement("tr");
                        fila.className = 'added';

                        for (var key in clientesObjeto[i]) {
                            var celda = document.createElement("td");
                            celda.innerText = clientesObjeto[i][key];

                            fila.appendChild(celda);

                        }

                        tabla.appendChild(fila);
                    }

                },

            });

        }

</script>


<div class="container" style="margin-top:2%">
    <div class="row">
        <div class="col-md-3">
            <div class="input-group">
                <!-- USE TWITTER TYPEAHEAD JSON WITH API TO SEARCH -->
                <input class="form-control" id="system-search" name="q" placeholder="Search for" required>
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-default" onclick="javascript:buscarClientes();"><i class="glyphicon glyphicon-search"></i></button>
                </span>
            </div>
        </div>
        <div class="col-md-9">
            <table class="table table-list-search" id="MiTabla">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>Telefono</th>
                        <th>Direccion</th>
                        <th>Calle</th>
                        <th>Talle</th>
                        <th>Recorrido</th>
                        <th>Fecha de Alta</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
